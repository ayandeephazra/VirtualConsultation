{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ayan Deep Hazra\\\\Desktop\\\\Work(Master)\\\\Virtual Consultation\\\\Front-End part\\\\src\\\\RegisterPatient.jsx\";\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser, faLock, faPhone, faCalendarAlt, faEnvelope, faVenusMars } from '@fortawesome/free-solid-svg-icons';\nimport register from \"../src/image/register.svg\";\nconst url = 'http://localhost:4000';\n\nconst RegisterPatient = props => {\n  const [name, setName] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [numb, setNumber] = useState(\"\");\n  const [email, setMail] = useState(\"\");\n  const [password1, setPassword1] = useState(\"\");\n  const [password2, setPassword2] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const change = (val, type) => {\n    //check the input type that is changed\n    switch (type) {\n      case 'name':\n        setName(val);\n        break;\n\n      case 'gender':\n        setGender(val);\n        break;\n\n      case 'email':\n        setMail(val);\n        break;\n\n      case 'password1':\n        setPassword1(val);\n        break;\n\n      case 'password2':\n        setPassword2(val);\n        break;\n\n      case 'date':\n        let date = Date.parse(val);\n        let now = Date.now();\n\n        if (date < now) {\n          setDate(val);\n        }\n\n        break;\n\n      case 'number':\n        //allow only a specific input be accepted which are numbers,+,- and space\n        let char = val[val.length - 1];\n        let filt = val.split(\"\").filter(i => i !== '+' && i !== '-' && i !== ' ');\n\n        if (Number(filt.join(\"\")) || char === '+' || char === '-' || char === ' ' || val === \"\") {\n          setNumber(val);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  }; //submit function\n\n\n  const submit = async e => {\n    e.preventDefault(); //collate data\n\n    const data = {\n      \"FullName\": name,\n      \"Email\": email,\n      \"Gender\": gender,\n      \"DateOfBirth\": date,\n      \"Mobile\": numb,\n      \"Password\": password1\n    }; //fetch request\n\n    if (password1.length >= 6 && name.length >= 3 && name.includes(' ') && email.length > 3 && gender.length >= 3 && numb.length > 3) {\n      const method = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      const res = await fetch(`${url}/patient/registerPatient`, method);\n      let result; //check for error status\n\n      if (res.status === 400) {\n        try {\n          result = await res.text();\n        } catch (e) {\n          setError('An Error Occured');\n        }\n      } else {\n        //check for non error or special status\n        try {\n          result = await res.json();\n        } catch (e) {\n          setError('An Error Occured');\n        }\n      } //check if there is message\n\n\n      if (result.message === 'success') {\n        props.history.push('/bookings');\n      } else {\n        //if there isn't then there is an error\n        let re = result.errors ? result.errors[0] : result;\n        setError(re);\n      }\n    } else {\n      setError(\"One or more fields are not properly filled\");\n    }\n\n    setTimeout(() => setError(\"\"), 2500);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"forms-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signin-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    class: \"sign-in-form\",\n    onSubmit: e => submit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, \"Patient Registration\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, error), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    style: {\n      'alignItems': 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"i\",\n    icon: faUser,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Full Name\",\n    value: name,\n    onChange: e => {\n      change(e.target.value, 'name');\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    style: {\n      'alignItems': 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"i\",\n    icon: faEnvelope,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => {\n      change(e.target.value, 'email');\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    style: {\n      'alignItems': 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"i\",\n    icon: faVenusMars,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Gender\",\n    value: gender,\n    onChange: e => {\n      change(e.target.value, 'gender');\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    style: {\n      'alignItems': 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"i\",\n    icon: faCalendarAlt,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    placeholder: \"Date of Birth\",\n    value: date,\n    onChange: e => {\n      change(e.target.value, 'date');\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    style: {\n      'alignItems': 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"i\",\n    icon: faPhone,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Phone Number\",\n    value: numb,\n    onChange: e => {\n      change(e.target.value, 'number');\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    style: {\n      'alignItems': 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"i\",\n    icon: faLock,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password1,\n    onChange: e => {\n      change(e.target.value, 'password1');\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Register\",\n    class: \"btn btn-outline-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Script, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 6\n    }\n  }, \"console.log(\\\"dd\\\");\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panels-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel left-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: register,\n    className: \"image\",\n    alt: \"register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 6\n    }\n  })))));\n};\n\nexport default RegisterPatient;","map":{"version":3,"sources":["C:/Users/Ayan Deep Hazra/Desktop/Work(Master)/Virtual Consultation/Front-End part/src/RegisterPatient.jsx"],"names":["React","useState","FontAwesomeIcon","faUser","faLock","faPhone","faCalendarAlt","faEnvelope","faVenusMars","url","RegisterPatient","props","name","setName","gender","setGender","date","setDate","numb","setNumber","email","setMail","password1","setPassword1","password2","setPassword2","error","setError","change","val","type","Date","parse","now","char","length","filt","split","filter","i","Number","join","submit","e","preventDefault","data","includes","method","headers","body","JSON","stringify","res","fetch","result","status","text","json","message","history","push","re","errors","setTimeout","target","value","register"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUser, faLock, faPhone, faCalendarAlt, faEnvelope, faVenusMars} from '@fortawesome/free-solid-svg-icons';\r\nimport register from '../src/image/register.svg';\r\n\r\nconst url = 'http://localhost:4000'\r\nconst RegisterPatient=(props)=>{\r\n\tconst [name, setName]=useState(\"\")\r\n\tconst [gender, setGender]=useState(\"\")\r\n\tconst [date, setDate] = useState(\"\")\r\n\tconst [numb, setNumber] = useState(\"\")\r\n\tconst [email, setMail] = useState(\"\")\r\n\tconst [password1, setPassword1] = useState(\"\")\r\n\tconst [password2, setPassword2] = useState(\"\")\r\n\tconst [error, setError] = useState(\"\")\r\n\r\n\tconst change=(val, type)=>{\r\n\t\t//check the input type that is changed\r\n\t\tswitch(type){\r\n\t\t\tcase 'name':\r\n\t\t\t\tsetName(val)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'gender':\r\n\t\t\t\tsetGender(val)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'email':\r\n\t\t\t\tsetMail(val)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password1':\r\n\t\t\t\tsetPassword1(val)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password2':\r\n\t\t\t\tsetPassword2(val)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'date':\r\n\t\t\t\tlet date = Date.parse(val)\r\n\t\t\t\tlet now = Date.now()\r\n\t\t\t\tif(date < now){\r\n\t\t\t\t\tsetDate(val)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'number':\r\n\t\t\t\t//allow only a specific input be accepted which are numbers,+,- and space\r\n\t\t\t\tlet char = val[val.length-1]\r\n\t\t\t\tlet filt = val.split(\"\").filter(i=> i!=='+' && i!=='-' && i!==' ')\r\n\t\t\t\t\r\n\t\t\t\tif(Number(filt.join(\"\")) || char === '+' || \r\n\t\t\t\tchar === '-' || char ===' ' || val===\"\"){\r\n\t\t\t\t\tsetNumber(val)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t//submit function\r\n\tconst submit=async(e)=>{\r\n\t\te.preventDefault()\r\n\t\t//collate data\r\n\t\tconst data={\"FullName\":name,\"Email\":email, \"Gender\":gender,\r\n\t\t\"DateOfBirth\":date, \"Mobile\":numb, \"Password\":password1}\r\n\r\n\t\t//fetch request\r\n\t\tif(password1.length>=6 && name.length>=3 && name.includes(' ') && email.length >3 && gender.length>=3 && numb.length>3){\r\n\t\t\tconst method = {method:'POST',headers:{'Content-Type':'application/json'}, body: JSON.stringify(data)}\r\n\t\t\tconst res = await fetch(`${url}/patient/registerPatient`, method)\r\n\t\t\tlet result\r\n\t\t\t//check for error status\r\n\t\t\tif(res.status ===400){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tresult = await res.text()\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tsetError('An Error Occured')\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t//check for non error or special status\r\n\t\t\t\ttry{\r\n\t\t\t\t\tresult = await res.json()\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tsetError('An Error Occured')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//check if there is message\r\n\t\t\tif(result.message === 'success'){\r\n\t\t\t\tprops.history.push('/bookings')\r\n\t\t\t}else{\r\n\t\t\t\t//if there isn't then there is an error\r\n\t\t\t\tlet re = result.errors? result.errors[0] : result\r\n\t\t\t\tsetError(re)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\tsetError(\"One or more fields are not properly filled\")\r\n\t\t}\r\n\t\tsetTimeout(()=>setError(\"\"), 2500)\r\n\t}\r\n\treturn(\r\n\t<div>\r\n\t\t<div className=\"container\">\r\n\t\t\t<div className=\"forms-container\">\r\n\t\t\t\t<div className=\"signin-signup\">\r\n\t\t\t\t\t<form action=\"\" class=\"sign-in-form\" onSubmit={(e)=>submit(e)}>\r\n\t\t\t\t\t\t<h2 className=\"title\">Patient Registration</h2>\r\n\t\t\t\t\t\t<div>{error}</div>\r\n\t\t\t\t\t\t<div className=\"input-field\" style={{'alignItems':'center'}}>\r\n\t\t\t\t\t\t\t<FontAwesomeIcon className=\"i\" icon={faUser} size=\"lg\" />\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Full Name\" value={name} onChange={(e)=>{change(e.target.value,'name')}} required/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"input-field\" style={{'alignItems':'center'}}>\r\n\t\t\t\t\t\t\t<FontAwesomeIcon className=\"i\" icon={faEnvelope} size=\"lg\" />\r\n\t\t\t\t\t\t\t<input type=\"email\" placeholder=\"Email\" value={email} onChange={(e)=>{change(e.target.value,'email')}} required/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"input-field\" style={{'alignItems':'center'}}>\r\n\t\t\t\t\t\t\t<FontAwesomeIcon className=\"i\" icon={faVenusMars} size=\"lg\" />\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Gender\" value={gender} onChange={(e)=>{change(e.target.value,'gender')}} required/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"input-field\" style={{'alignItems':'center'}}>\r\n\t\t\t\t\t\t\t<FontAwesomeIcon className=\"i\" icon={faCalendarAlt} size=\"lg\" />\r\n\t\t\t\t\t\t\t<input type=\"date\" placeholder=\"Date of Birth\" value={date} onChange={(e)=>{change(e.target.value,'date')}} required/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"input-field\" style={{'alignItems':'center'}}>\r\n\t\t\t\t\t\t\t<FontAwesomeIcon className=\"i\" icon={faPhone} size=\"lg\" />\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Phone Number\" value={numb} onChange={(e)=>{change(e.target.value,'number')}} required/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"input-field\" style={{'alignItems':'center'}}>\r\n\t\t\t\t\t\t\t<FontAwesomeIcon className=\"i\" icon={faLock} size=\"lg\" />\r\n\t\t\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" value={password1} onChange={(e)=>{change(e.target.value,'password1')}} required/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input type=\"submit\" value=\"Register\" class=\"btn btn-outline-danger\" />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<Script>console.log(\"dd\");</Script>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"panels-container\">\r\n\t\t\t\t<div className=\"panel left-panel\">\r\n\t\t\t\t\t<img src={register} className=\"image\" alt=\"register\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t);\r\n};\r\n\r\nexport default RegisterPatient;"]},"metadata":{},"sourceType":"module"}